<script src="https://cdnjs.cloudflare.com/ajax/libs/chartkick/2.3.0/chartkick.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>

<div class="container content">
  <div class="row">
    <div class="col-12 mt-4">
      <h1>Results for <%= @deck.name %>:</h1>
      <% data = [["Correct", @results_positive],
                ["Wrong", @results_negative]] %>
      <%= pie_chart data, library: { pieSliceText: 'value' } %>
      <strong>
        Total: <%= @results_positive + @results_negative %>
      </strong>
      <% if @results_positive > @results_negative %>
        <p>Wooooooowwwww maaan, really impressive ðŸ˜²</p>
      <% else %>
        <p>Wow! I've never seen something like that...</p>
      <% end %>
      <% if @deck.wrong_answers.any? %>
        <%= link_to "Re-try wrong ones", deck_start_playing_path(@deck, wrong: true), class: 'btn btn-primary btn-lg'  %>
      <% end %>
      <%= link_to "Play again", deck_start_playing_path(@deck, wrong: false), class: 'btn btn-secondary btn-lg' %>
      <%= link_to "Return to Deck", deck_path(@deck), class: 'btn btn-secondary btn-lg' %>
      <div class="review mt-4">
        <h2>Leave a review:</h2>
        <%= render 'reviews/form', deck: @deck, review: @review %>
      </div>
    </div>
  </div>
</div>
